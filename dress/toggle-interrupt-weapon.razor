#setvar! BOW 5042
#setvar! KATANA 5119
#setvar! CLUB 5044
#setvar! HAMMER_PICK 5081
#setvar! WAR_AXE 5040
#setvar! KRYSS 5121
#setvar! HATCHET 3908 (for lumberjackers)
#setvar! PICKAXE 3718 (for miners)
#setvar! SPELLBOOK 3834 (for pvm mages)

sysmsg 'TOGGLE INTERRUPT WEAPON' 1161

# if a weapon of the same type we wanna equip is already equiped,
#just unequipt it and exit to simulate a 'toggle' effect
if findtype 5042 lefthand or findtype 5119|5044|5081|5040|5121|3908|3718| righthand
    cast 'Magic Lock'
    stop
endif


if findtype 5042|5119|5044|5081|5040|5121|3908|3718 backpack as found
    if not dead lasttarget
        attack lasttarget
    endif

    if targetexists
        # check if theres need to undress hands before equiping
        if not rhandempty or not lhandempty
            cast 'Magic Lock'
        endif

        @drop backpack
        lift found
        drop self FirstValid
    else
        dclick found
    endif
endif
