#################################
# BANDAGE SELF
# v0.0.2
# by gugutz
#
#################################

################################
# SCRIPT CONFIGURATION
################################

setvar! action_delay 550
setvar! bandage_delay 15000


#################################
# CODE
#################################

# if no bandages, warn and stop
if counttype 'clean bandage%s%' == 0
    overhead 'no bandages!' 33
    stop
endif

if diffhits == 0 and not findbuff "bleed" and not findbuff "disease" and not poisoned
    overhead 'no need for bandages!' 54
    stop
endif

# use bandage
if healing >= 20
    if diffhits > 0 or findbuff "bleed" or findbuff "disease" or poisoned

        if bandaging == 0
            overhead '*applying bandages*' 65
            hotkey 'Bandage Self'

            wait action_delay
        elseif bandaging > 10
            overhead '10+ secs till next bandage!' 52
        elseif bandaging > 5
            overhead '5+ secs till next bandage!' 52
        else
            overhead 'less than 5 secs till next bandage!' 52
        endif

    endif
endif


#################################
# CHANGELOG
#
# v0.0.2
# - Replaces timers and delays with new 'bandaging' command
#
# v0.0.1
# - Initial release
#
