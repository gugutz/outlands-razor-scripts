# Dispell Fields
# v0.0.1
# by gugutz
#
# This script will dispel fields if a neutral target is opened
# It will look for fields in this order:
# - blue moongates
# - wall of stones
# - energy fields
# - paralyze fields
# - poison fields
#################################


# @setvar find_field_max_range 12

if not targetexists 'neutral'
    cast 'dispel field'
else
    if findtype 'blue moongate' ground 0 any 12 as field
        overhead '*dispelling gate*' 56
        target field
    elseif findtype 128 ground any any 12 as field or findtype 1872 ground 945 any 12 as field
        overhead '*dispelling wall*' 56
        target field
    elseif findtype 'field of energy' ground any any 12 as field
        overhead '*dispelling energy field*' 56
        target field
    # when set to static square fields, energy field is like this
    elseif findtype 'goza mat' ground any any 293 as field
        overhead '*dispelling energy field*' 56
        target field

    # when set to static square fields, paralyze field is like this
    elseif findtype 'goza mat' ground any any 218 as field
        overhead '*dispelling paralyze field*' 56
        target field
    elseif findtype 'field of paralysis' ground any any 12 as field
        overhead '*dispelling paralyze field*' 56
        target field
    elseif findtype 'Field of Poison' ground any any 12 as field
        overhead '*dispelling poison field*' 56
        target field
    else
        overhead '*no fields nearby*'
    endif
endif
